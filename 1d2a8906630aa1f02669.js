function createBootstrapContainer(){const t=document.querySelector(".blog-main");if(t){const e=document.createElement("div");e.className="container";const o=document.createElement("div");o.className="row row_custom-spacing",o.setAttribute("id","blog-items"),e.appendChild(o),t.appendChild(e)}else console.error("Элемент с классом 'blog-main' не найден.")}function createBlogItem(){const t=document.createElement("div");t.className="blog-item blog-item_transition-default blog-item_hover-green-links";const e=document.createElement("div");e.className="blog-item__content";const o=document.createElement("a");o.setAttribute("href","#"),o.className="blog-item__img-link";const n=document.createElement("img");n.className="blog-item__img",o.appendChild(n);const a=document.createElement("div");a.className="blog-item__main";const c=document.createElement("a");c.setAttribute("href","#"),c.className="blog-item__title-link";const l=document.createElement("p");l.className="blog-item__title",l.setAttribute("data-toggle","tooltip"),l.setAttribute("data-placement","top"),c.appendChild(l);const i=document.createElement("a");i.setAttribute("href","#"),i.className="blog-item__info blog-item__info_grey-color";const s=document.createElement("p");s.className="blog-item__date",i.appendChild(s);const r=document.createElement("p");r.className="blog-item__description";const m=document.createElement("div");m.className="blog-item__bottom d-flex align-items-center justify-content-between";const d=document.createElement("a");d.setAttribute("href","#"),d.className="blog-item__info blog-item__info_grey-color";const u=document.createElement("p");u.className="blog-item__author blog-item__author_no-spacing-bottom",d.appendChild(u);const p=document.createElement("a");return p.className="btn-ui btn-ui_like",t.appendChild(o),t.appendChild(e),e.appendChild(a),a.appendChild(c),a.appendChild(i),a.appendChild(r),e.appendChild(m),m.appendChild(d),m.appendChild(p),t}function addBlogItemToContainer(t,e){const o=document.createElement("div");o.className="col-xl-4 col-md-6",o.appendChild(e),t.appendChild(o)}createBootstrapContainer();const containerBlogItems=document.getElementById("blog-items"),apiUrl="https://dev.mykgproxy.webprofy.ru/upload/frontend/data.json",options={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};fetch(apiUrl,options).then((t=>{if(!t.ok)throw new Error(`Ошибка HTTP: ${t.status}`);return t.json()})).then((t=>{t.forEach((t=>{const e=createBlogItem();addBlogItemToContainer(containerBlogItems,e)})),document.querySelectorAll(".blog-item__title").forEach(((e,o)=>{let n=t[o].name;n=n.toLowerCase(),n="«"===n.charAt(0)?n.charAt(0)+n.charAt(1).toUpperCase()+n.slice(2):n.charAt(0).toUpperCase()+n.slice(1).toLowerCase();const a=n.length>30?n.slice(0,40)+"...":n;e.textContent=a,e.setAttribute("data-original-title",n)})),document.querySelectorAll(".blog-item__img").forEach(((e,o)=>{let n=t[o].imgUrl||"https://dummyimage.com/423x269";n.startsWith("hhttps://")&&(n=n.replace("hhttps://","https://"));const a=t[o].name;e.setAttribute("src",n),e.setAttribute("alt",a)})),document.querySelectorAll(".blog-item__date").forEach(((e,o)=>{const n=(t[o].date||"20.20.2021").replace(/-/g,".");e.textContent=n})),document.querySelectorAll(".blog-item__description").forEach(((e,o)=>{const n=t[o].text,a=n.length>100?n.slice(0,160)+"...":n;e.textContent=a})),document.querySelectorAll(".blog-item__author").forEach(((e,o)=>{const n=t[o].author;e.textContent=n})),document.querySelectorAll(".blog-item").forEach(((e,o)=>{const n=t[o].id;e.setAttribute("id","blog-item-"+n)})),document.querySelectorAll(".btn-ui_like").forEach(((e,o)=>{const n=t[o].voteStatus;!1===n?e.setAttribute("data-vote-status",!1):!0===n?e.setAttribute("data-vote-status",!0):e.setAttribute("data-vote-status",!1)})),$((function(){$('[data-toggle="tooltip"]').tooltip()}))})).catch((t=>{console.error(`Произошла ошибка: ${t}`)}));const wrapperBlogMain=document.querySelector(".blog-main");function clickToBtnUiLikeAddActive(t){const e=t.target;e.classList.contains("btn-ui_like")&&(e.classList.contains("active")?(e.classList.remove("active"),e.setAttribute("data-vote-status",!1)):(e.classList.add("active"),e.setAttribute("data-vote-status",!0)))}wrapperBlogMain.addEventListener("click",clickToBtnUiLikeAddActive);